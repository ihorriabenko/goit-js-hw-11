{"mappings":"AAGA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,iBAC7BC,KAAMF,SAASC,cAAc,YAC7BE,YAAaH,SAASC,cAAc,eAIhCG,EAAiB,ICVR,MAMbC,gBAEE,MAAMC,EAAc,6CAA6CC,KAAKC,wFAAwFD,KAAKE,OAEnK,OAAOC,MAAM,2BAA2BJ,KACrCK,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJP,KAAKQ,gBACED,EAAKE,QAIlBD,gBACER,KAAKE,MAAQ,EAGfQ,YACEV,KAAKE,KAAO,EAGVS,YACF,OAAOX,KAAKC,YAGVU,UAAMC,GACRZ,KAAKC,YAAcW,EA9BrBC,cACEb,KAAKC,YAAc,GACnBD,KAAKE,KAAO,IDkBhBX,EAAKC,KAAKsB,iBAAiB,UARVC,IACfA,EAAEC,iBAEFnB,EAAec,MAAQI,EAAEE,cAAcC,SAASC,KAAKC,MACrDvB,EAAea,YACfb,EAAeC,gBAAgBM,MAAKK,GAAQY,QAAQC,IAAIb,QAU1DlB,EAAKK,YAAYkB,iBAAiB,SAJV,KACtBjB,EAAeC,gBAAgBM,MAAKK,GAAQY,QAAQC,IAAIb","sources":["src/js/index.js","src/js/news-service.js"],"sourcesContent":["import NewsApiService from './news-service';\n\n// refs\nconst refs = {\n  form: document.querySelector('.header__form'),\n  list: document.querySelector('.gallery'),\n  btnLoadMore: document.querySelector('.load-more'),\n};\n\n// variables\nconst newsApiService = new NewsApiService();\n\n// submit\nconst onSumbit = e => {\n  e.preventDefault();\n\n  newsApiService.query = e.currentTarget.elements.text.value;\n  newsApiService.resetPage();\n  newsApiService.fetchArticles().then(hits => console.log(hits));\n};\n\nrefs.form.addEventListener('submit', onSumbit);\n\n// load more\nconst onClickLoadMore = () => {\n  newsApiService.fetchArticles().then(hits => console.log(hits));\n};\n\nrefs.btnLoadMore.addEventListener('click', onClickLoadMore);\n","export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    // console.log(this);\n    const fetchParams = `?key=27832642-aa50f7f08c8a181668a8915c7&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n\n    return fetch(`https://pixabay.com/api/${fetchParams}`)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        return data.hits;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$85a5f86b715fe7db$var$refs","form","document","querySelector","list","btnLoadMore","$85a5f86b715fe7db$var$newsApiService","fetchArticles","fetchParams","this","searchQuery","page","fetch","then","r","json","data","incrementPage","hits","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","text","value","console","log"],"version":3,"file":"index.51236233.js.map"}